function ajaxAddArticle(e,a){e.disabled=!0;var o=document.getElementById("artId").value,t=document.getElementById("artNb").value;jQuery.post(MyAjaxVars.ajaxurl,{action:"meAddArticle",security:MyAjaxVars.postCommentNonce,artId:o,artNb:t,artType:a},function(e){e.success?e.melange?openArticleFranceOnlyPopin():openArticleAddedPopin():(alert(e.data),jQuery.fancybox.close())})}function ajaxRemoveProduitsPhysiquePanier(e){e.disabled=!0,MEC_Socle.PopinHelper.openLoaderPopin("Mise à jour du panier en cours..."),jQuery.post(MyAjaxVars.ajaxurl,{action:"meDeleteArticlePhysiquePanier",security:MyAjaxVars.postCommentNonce},function(e){location.reload()})}function ajaxDeleteArticlePanier(e,a){e.disabled=!0,jQuery.post(MyAjaxVars.ajaxurl,{action:"meDeleteArticle",security:MyAjaxVars.postCommentNonce,artId:a},function(e){location.reload()})}function ajaxCreateCommande(button,paiementType){button.disabled=!0,jQuery(".divColError span").html(""),jQuery("#factPays").prop("disabled",!1),jQuery("#livrPays").prop("disabled",!1),jQuery("#chkfact").prop("disabled",!1);var formData=jQuery("#commandeForm").serialize();MEC_Socle.PopinHelper.openLoaderPopin("Vérification des données en cours..."),jQuery.post(MyAjaxVars.ajaxurl,{action:"meCheckCommandePage",security:MyAjaxVars.postCommentNonce,allFormData:formData},function(response){"true"==jQuery("#factPays").attr("data-todisable")&&jQuery("#factPays").prop("disabled",!0),jQuery("#livrPays").prop("disabled",!0),"true"==jQuery("#chkfact").attr("data-todisable")&&jQuery("#chkfact").prop("disabled",!0),button.disabled=!1,response.success?(MEC_Socle.PopinHelper.openLoaderPopin("Chargement du module de paiement..."),jQuery.post(MyAjaxVars.ajaxurl,{action:"meGenerateCommande",security:MyAjaxVars.postCommentNonce,allFormData:formData,paiementType:paiementType},function(e){e.success?e.url.constructor==Object?window.location.href=e.url[0]:openPDFGeneratedPopin(e.url):(jQuery.fancybox.close(),alert(e.data))})):(jQuery.fancybox.close(),eval(response.script),jQuery(".divColError span").each(function(){if(jQuery(this).html())return jQuery("html, body").animate({scrollTop:jQuery(this).offset().top-200},500),!1}))})}function ajaxCheckPromo(button){button.disabled=!0;var codepromo=jQuery("#codePromo").val();jQuery.post(MyAjaxVars.ajaxurl,{action:"meCheckPromo",security:MyAjaxVars.postCommentNonce,codePromo:codepromo},function(response){response.success&&(eval(response.js),button.disabled=!1)})}function ajaxSaveApplisAndOpts(e,a,o){e.disabled=!0,MEC_Socle.PopinHelper.openLoaderPopin("Sauvegarde des modifications en cours..."),jQuery.post(MyAjaxVars.ajaxurl,{action:"meUpdateApplis",security:MyAjaxVars.postCommentNonce,applis:a,appOptions:o},function(a){e.disabled=!1,a.success?(MEC_Socle.PopinHelper.openResultPopin("Sauvegarde effectuée<br/>Vous allez être redirigé sur votre page d'accueil.","fa-check"),setTimeout(function(){document.location.href="/enseignant/"},500)):MEC_Socle.PopinHelper.openResultPopin(a.data,"fa-exclamation-circle")})}function ajaxSaveWidgetOptions(e,a,o){MEC_Socle.PopinHelper.openLoaderPopin("Sauvegarde des modifications en cours..."),jQuery.post(MyAjaxVars.ajaxurl,{action:"meUpdateWidgetOptions",security:MyAjaxVars.postCommentNonce,widgetID:e,options:a},function(e){e.success?(MEC_Socle.PopinHelper.openResultPopin("Sauvegarde effectuée.","fa-check"),setTimeout(function(){jQuery.fancybox.close()},500),o()):MEC_Socle.PopinHelper.openResultPopin(e.data,"fa-exclamation-circle")})}function ajaxPropulseWidget(e,a,o){jQuery.post(MyAjaxVars.ajaxurl,{action:"mePropulseWidget",security:MyAjaxVars.postCommentNonce,widgetID:e},function(e){e.success?a():o()})}function ajaxVoteForWidget(e,a,o,t,r){jQuery.post(MyAjaxVars.ajaxurl,{action:"meVoteForWidget",security:MyAjaxVars.postCommentNonce,score:e,table:a,idElemVoted:o},function(e){e.success?t():r()})}function launchAppli(e,a){return MEC_Socle.PopinHelper.openResultPopin("<a href='"+e.href+"' target='_blank'>Si le site ne s'ouvre pas, cliquez ici.</a>","fa-external-link"),window.open(e.href,"myFrame").focus(),!1}function CallAjaxForWidgets(){window.MEWAjaxQueue.length>0&&jQuery.post(MyAjaxVars.ajaxurl,{action:"meLoadWidgetsDatas",security:MyAjaxVars.postCommentNonce,requests:JSON.stringify(window.MEWAjaxQueue)},function(e){if(e.success)for(var a=0;a<window.MEWAjaxQueue.length;a++)window.MEWAjaxQueue[a].callback(e.return[a])})}window.MEWAjaxQueue=new Array,window.MEWWaitForPPLM=!1;