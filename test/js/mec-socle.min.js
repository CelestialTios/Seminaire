window.MEC_Socle={},window.MEC_Socle.AjaxHelper=function(e,t){var o={GenAjaxCaller:function(e,t,n,i){o.GenAjaxCallerWithFailCallback(e,t,n,function(e){MEC_Socle.PopinHelper.openResultPopin(e.data,"fa-exclamation-circle")},i)},GenAjaxCallerWithFailCallback:function(t,o,n,i,a){var s={action:t,security:MyAjaxVars.postCommentNonce};s=e.extend({},s,o),jQuery.post(MyAjaxVars.ajaxurl,s,function(e){a&&(a.disabled=!1),e.success?n(e):e.data==MyAjaxVars.ajaxEnsConnectError||e.data==MyAjaxVars.ajaxAdminConnectError?document.location.href="/identification/":e.data==MyAjaxVars.ajaxEleveConnectError?document.location.href="/identification/?redirect=/eleve/":i(e)}).fail(function(e,t,o){403==e.status&&ajaxDeconnectUser(null,"/identification/")})},GenAjaxCallerForFileUpload:function(e,t,n){o.GenAjaxCallerForFileUploadWithFailCallback(e,t,function(e){MEC_Socle.PopinHelper.openResultPopin(e.data,"fa-exclamation-circle")},n)},GenAjaxCallerForFileUploadWithFailCallback:function(t,o,n,i){t.append("security",MyAjaxVars.postCommentNonce),e.ajax({url:MyAjaxVars.ajaxurl,type:"POST",data:t,cache:!1,dataType:"json",processData:!1,contentType:!1,success:function(e,t,a){i&&(i.disabled=!1),e.success?o(e.response):e.data==MyAjaxVars.ajaxEnsConnectError||e.data==MyAjaxVars.ajaxAdminConnectError?document.location.href="/identification/":e.data==MyAjaxVars.ajaxEleveConnectError?document.location.href="/identification/?redirect=/eleve/":n(e)},error:function(e,t,o){403==e.status&&ajaxDeconnectUser(null,"/identification/"),i&&(i.disabled=!1)}})}};return o}(jQuery),window.MEC_Socle.HoraireParam=function(e,t){var o={horaireSwitchActive:function(e){jQuery(e).parent().toggle().siblings().toggle()},initHoraireValues:function(t,o){e(".horairesTable .day").each(function(){var o=e(this).attr("data-day");t&&t.hours?("true"==t.hours[o+"m"].enabled.toString()?(e(this).find(".matin .haveTime .firstHour select option[value='"+t.hours[o+"m"].hourdeb+"']").prop("selected",!0),e(this).find(".matin .haveTime .secondHour select option[value='"+t.hours[o+"m"].hourfin+"']").prop("selected",!0),e(this).find(".matin .noTime").hide(),e(this).find(".matin .haveTime").show()):(e(this).find(".matin .noTime").show(),e(this).find(".matin .haveTime").hide()),"true"==t.hours[o+"a"].enabled.toString()?(e(this).find(".aprem .haveTime .firstHour select option[value='"+t.hours[o+"a"].hourdeb+"']").prop("selected",!0),e(this).find(".aprem .haveTime .secondHour select option[value='"+t.hours[o+"a"].hourfin+"']").prop("selected",!0),e(this).find(".aprem .noTime").hide(),e(this).find(".aprem .haveTime").show()):(e(this).find(".aprem .noTime").show(),e(this).find(".aprem .haveTime").hide())):(e(this).find(".matin .haveTime .firstHour select option[value='08:30']").prop("selected",!0),e(this).find(".matin .haveTime .secondHour select option[value='11:30']").prop("selected",!0),e(this).find(".aprem .haveTime .firstHour select option[value='13:30']").prop("selected",!0),e(this).find(".aprem .haveTime .secondHour select option[value='16:30']").prop("selected",!0),parseInt(e(this).attr("data-day"))<=5?(e(this).find(".noTime").hide(),e(this).find(".haveTime").show()):(e(this).find(".noTime").show(),e(this).find(".haveTime").hide()))}),t&&e("#cboFuseau option[value='"+t.fuseau+"']").prop("selected",!0),jQuery(".horairesAccesDetails").hide(),o||jQuery("#chkHorairesAcces").change(function(){jQuery(this).is(":checked")?jQuery(".horairesAccesDetails").show():jQuery(".horairesAccesDetails").hide()}),t&&("true"==t.enabled.toString()?(e("#chkHorairesAcces").bootstrapToggle("on"),jQuery(".horairesAccesDetails").show()):(e("#chkHorairesAcces").bootstrapToggle("off"),jQuery(".horairesAccesDetails").hide()))},getHoraireObject:function(){var t=null;return e("#chkHorairesAcces").is(":checked")?(t={enabled:!0,hours:{},fuseau:e("#cboFuseau").val()},e(".day").each(function(){var o=e(this).attr("data-day");e(this).find(".matin .noTime").is(":visible")?t.hours[o+"m"]={enabled:!1}:t.hours[o+"m"]={enabled:!0,hourdeb:e(this).find(".matin .firstHour select").val(),hourfin:e(this).find(".matin .secondHour select").val()},e(this).find(".aprem .noTime").is(":visible")?t.hours[o+"a"]={enabled:!1}:t.hours[o+"a"]={enabled:!0,hourdeb:e(this).find(".aprem .firstHour select").val(),hourfin:e(this).find(".aprem .secondHour select").val()}})):t={enabled:!1,fuseau:e("#cboFuseau").val()},t}};return o}(jQuery),window.MEC_Socle.AsyncPageManager=function($,undefined){var _self={},$infoPanel=null,editTimeWait=1500;function getOrCreateInfoPanel(){return null==$infoPanel&&($infoPanel=$("<div>",{id:"saveAsyncInfoPanel"}).appendTo("header#home")),$infoPanel.css("opacity",1).show(),$infoPanel}return _self.savingInProgress=!1,_self.savingBuffer=new Array,_self.lastEditTime=0,_self.isInit=!1,_self.addToBuffer=function(e){_self.lastEditTime=(new Date).getTime(),-1==$.inArray(e,_self.savingBuffer)&&(_self.savingBuffer.push(e),null!=$infoPanel&&$infoPanel.hide())},_self.ajaxResponseCallback=function(e){_self.savingBuffer.shift(),_self.savingInProgress=!1,e.success?0==_self.savingBuffer.length&&(window.onbeforeunload=null,_self.displaySaveCompleted()):MEC_Socle.PopinHelper.openResultPopin(e.data,"fa-exclamation-circle")},_self.checkSavesBeforeRedirect=function(e){if(_self.savingInProgress||_self.savingBuffer.length>0){MEC_Socle.PopinHelper.openLoaderPopin("Enregistrement des modifications en cours..."),editTimeWait=1;var t=setInterval(function(){_self.savingInProgress||0!=_self.savingBuffer.length||(clearInterval(t),e())},200)}else e()},_self.displaySaveInProgress=function(){var e=getOrCreateInfoPanel();e.empty();var t=$("<div>",{class:"saveInProgress"});$("<i>",{class:"fa fa-cog fa-spin fa-fw"}).appendTo(t),$("<span>",{html:"Enregistrement en cours..."}).appendTo(t),t.appendTo(e)},_self.displaySaveCompleted=function(){var e=getOrCreateInfoPanel();e.empty();var t=$("<div>",{class:"saveCompleted"});$("<i>",{class:"fa fa-check"}).appendTo(t),$("<span>",{html:"Modifications enregistrées"}).appendTo(t),t.appendTo(e),setTimeout(function(){1==$(".saveCompleted",$infoPanel).length&&$infoPanel.fadeOut(1e3)},3e3)},_self.init=function(editTimeWaiBeforeSave){editTimeWaiBeforeSave&&(editTimeWait=editTimeWaiBeforeSave),$(function(){setInterval(function(){-1!=editTimeWait&&(new Date).getTime()-_self.lastEditTime>editTimeWait&&!_self.savingInProgress&&_self.savingBuffer.length>0&&(_self.savingInProgress=!0,_self.displaySaveInProgress(),eval(_self.savingBuffer[0])),_self.savingInProgress||_self.savingBuffer.length>0?window.onbeforeunload=function(){return!0}:window.onbeforeunload=null},200)}),_self.isInit=!0},_self}(jQuery),function(e){e.fn.asynchronizeYoko=function(t){var o,n,i,a,s,l=this,r=e.extend({editSpecialCall:null,saveCallback:null,disabledOnComplete:!1},t);if(1!=l.length)throw new Error("only one element please");if(0==l.filter("input").length)throw new Error("need input element");return l.initialize=function(){return l.hasClass("input__disabled")||(a=e(l),(o=a.parents(".input__span")).addClass("asynchronized"),setTimeout(function(){o.hasClass("input--filled")&&o.addClass("input--read")},200),a.attr("disabled","disabled").addClass("input__readonly"),n=e("<a>",{class:"editInputAction inputAction",href:"javascript:;",title:"Modifier",html:"<i class='fas fa-pen'></i><span>Modifier</span>"}),i=e("<a>",{class:"validInputAction inputAction",href:"javascript:;",title:"Valider",html:"<i class='fas fa-check'></i><span>Valider</span>",style:"display:none"}),o.append(n),o.append(i),n.click(function(){null!=r.editSpecialCall?r.editSpecialCall(l):(n.hide(),i.show(),o.removeClass("input--read"),a.attr("oldVal",a.val()),a.removeClass("input__readonly").addClass("input__asyncedit").removeAttr("disabled"),a.focus().setCursorPosition(a.val().length))}),i.click(function(){i.attr("disabled")||(s=i.html(),i.attr("disabled","disabled").html("<i class='fas fa-spinner fa-spin'></i>"),null!=r.saveCallback&&r.saveCallback(l))}),a.keyup(function(e){13==e.keyCode?i.trigger("click"):27==e.keyCode&&(a.val(a.attr("oldVal")),l.afterSaveComplete())})),l},l.afterSaveComplete=function(){i.html(s).removeAttr("disabled"),a.attr("disabled","disabled").addClass("input__readonly").removeClass("input__asyncedit"),n.show(),i.hide(),r.disabledOnComplete?(a.attr("disabled","disabled").addClass("input__disabled"),n.remove()):o.addClass("input--read")},l.validationControlFailed=function(){i.html(s).removeAttr("disabled")},l.initialize()},e.fn.setCursorPosition=function(e){return this.each(function(t,o){if(o.setSelectionRange)o.setSelectionRange(e,e);else if(o.createTextRange){var n=o.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}),this}}(jQuery),window.MEC_Socle.CommonFunctions=function(e,t){var o={},n=1,i=null;function a(e){return 0<=e&&e<10?"0"+e.toString():-10<e&&e<0?"-0"+(-1*e).toString():e.toString()}o.mois=["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],o.formatDate=function(e,t,o,n,i){var a=e.getDate()<10?"0"+e.getDate().toString():e.getDate().toString(),s=e.getMonth()+1;s=s<10?"0"+s.toString():s.toString();var l=e.getHours()<10?"0"+e.getHours().toString():e.getHours().toString(),r=e.getMinutes()<10?"0"+e.getMinutes().toString():e.getMinutes().toString(),c=e.getSeconds()<10?"0"+e.getSeconds().toString():e.getSeconds().toString(),d=e.getFullYear().toString();n||(d=d.substring(2,4));var u=a+"/"+s+"/"+d;return t&&(u+=(i?" à ":" ")+l+":"+r+(o?":"+c:"")),u},o.formatDateToText=function(e,t){return["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"][e.getDay()]+" "+e.getDate()+" "+o.mois[e.getMonth()]},o.createDateFromBDDFormat=function(e){var t=e.substring(0,4),o=parseInt(e.substring(5,7))-1,n=e.substring(8,10),i=e.substring(11,13),a=e.substring(14,16),s=e.substring(17,19);return new Date(t,o,n,i,a,s)},o.formatDateFromBDD=function(e,t,n,i,a){var s=o.createDateFromBDDFormat(e);return o.formatDate(s,t,n,i,a)},o.displayDateToLocal=function(e){var t=60*e.attr("data-tm")*60*1e3,o=new Date(1e3*e.attr("data-timestamp")-t),n=o.getDate()<10?"0"+o.getDate().toString():o.getDate().toString(),i=o.getMonth()+1,a=n+"/"+(i=i<10?"0"+i.toString():i.toString())+"/"+o.getFullYear().toString().substring(0,4);"1"==e.attr("data-withtime")&&(a+=" à "+(o.getHours()<10?"0"+o.getHours().toString():o.getHours().toString())+":"+(o.getMinutes()<10?"0"+o.getMinutes().toString():o.getMinutes().toString()));e.html(a)},o.getLocalDateToSQLFormat=function(e,t){var o=new Date,n=o.getFullYear()+"-"+a(1+o.getMonth())+"-"+a(o.getDate());return e?n:t?n+" 00:00:00":n+" "+a(o.getHours())+":"+a(o.getMinutes())+":"+a(o.getSeconds())},o.launchAppliWithAC=function(t){return e("#autocoContainer #autoConnectToAppli").attr("action",t),MEC_Socle.PopinHelper.openHrefPopin("#autocoContainer","fa-external-link",!0,!1),document.forms.autoConnectToAppli.submit(),!1},o.checkNewHOSM=function(){},o.encodeHtmlTags=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e&&""!=e?e.replace(/[&<>"']/g,function(e){return t[e]}):e},o.htmlDecode=function(t){return e("<textarea/>").html(t).text()},o.htmlEncode=function(t){return e("<textarea/>").text(t).html()},o.toogleMobileNav=function(){var t=e("#mobileMenuNav");if(t.is(":empty")){var n=e("#topMenuList").clone().removeAttr("class");n.find("#navToogler-topmenu").remove(),n.find("li").each(function(){e(this).attr("id","mobile"+e(this).attr("id")).show()});var i=e(window).height()-76;e("#mobileMenuNav").append(n).height(0).show().animate({height:i},250),e("body").hasClass("MESite")?(MECSearchButtonScript.addEventOnMobileMenu("mobilesearch-topmenu"),e("#mobileressources-topmenu a").click(function(){o.toogleMobileNav()})):e("body").hasClass("RLSite")&&MECSearchButtonScript.addEventOnMobileMenu("mobilerlMenuItemSearch")}else t.empty().hide()},o.initSideBar=function(){e("body").addClass("me-sidebar-menu"),e("#me-menu-toggle").on("click",s),e("#me-sidebar-wrapper ul li a").tooltipster({delay:50,side:["right","bottom","top"]}),"open"==getCookie("MECSidebar")&&o.openSidebar()};var s=function(){e("#me-sidebar-wrapper").hasClass("me-sidebar-open")?l():o.openSidebar()},l=function(){e("#me-sidebar-wrapper").add("body").removeClass("me-sidebar-open"),e("#me-sidebar-menu i").attr("class","fas fa-arrow-alt-right"),e("#me-sidebar-wrapper ul li a").tooltipster("enable"),setCookie("MECSidebar","close")};return o.openSidebar=function(t){e("#me-sidebar-wrapper").add("body").addClass("me-sidebar-open"),e("#me-sidebar-menu i").attr("class","fas fa-arrow-alt-left"),e("#me-sidebar-wrapper ul li a.tooltipstered").tooltipster("disable"),t||setCookie("MECSidebar","open")},o.displayTuto=function(t,n,a){o.closeTutoIfOpen(),i=e(t),setTimeout(function(){e(t).addClass("highlightForTuto").tooltipster({content:e("#"+n),side:a,trigger:"custom",triggerClose:{click:!0},interactive:!0,contentAsHTML:!0}).tooltipster("open").tooltipster("instance").on("close",function(){i.removeClass("highlightForTuto")})},500)},o.closeTutoIfOpen=function(){i&&i.tooltipster("close")},o.openTutoVideo=function(e){i&&i.tooltipster("close"),MEC_Socle.PopinHelper.openYoutubeInPopin(e)},o.displayTutoInLeftMenu=function(t,n){o.openSidebar(!0);var i="right";e(window).width()<600&&(i="bottom"),MEC_Socle.CommonFunctions.displayTuto("#me-sidebar ."+t,n,i)},o.changeEnseignantIsENFR=function(t){MEC_Socle.PopinHelper.openLoaderPopin("Enregistrement en cours"),MEC_Socle.AjaxHelper.GenAjaxCaller("mecChangeUserIsENFR",{IsENFR:t?1:0},function(){e.fancybox.close()})},o.generateYoutubeIframe=function(e,t,o){if(""!=getCookie("MEConsentDetails")&&-1!==getCookie("MEConsentDetails").indexOf("_youtube=1"))return'<iframe width="'+e+'" height="'+t+'" src="https://www.youtube.com/embed/'+o+'?&autoplay=1&rel=0&controls=0&modestbranding=1&hd=1&autohide=1" frameborder="0" allowfullscreen></iframe>';var n="<div class='youtubeDisabled'><div class='ydText'>Votre configuration des cookies ne nous autorise pas vous afficher de vidéo Youtube.<br/>";return n+="Vous pouvez cependant soit : <ul><li><a href=\"javascript:MEC_Socle.PopinHelper.openIframePopin('/gestion-des-cookies/', true, true, null);\">Modifier vos paramètres de gestion des cookies</a></li>",n+="<li><a href='https://www.youtube.com/watch?v="+o+"' target='_blank'>Visionner la vidéo directement sur le site Youtube</a></li>",n+="</ul></div></div>"},o.infoShowMore=function(e,t){t?(jQuery(e).parents(".info").children("div").show(),jQuery(e).attr("onclick","MEC_Socle.CommonFunctions.infoShowMore(this, false);").html("<i class='fal fa-chevron-double-up'></i>Replier")):(jQuery(e).parents(".info").children("div").hide(),jQuery(e).attr("onclick","MEC_Socle.CommonFunctions.infoShowMore(this, true);").html("<i class='fal fa-chevron-double-down'></i>Lire plus"))},o.isNumberKey=function(e){e.which?e.which:e.keyCode;return 8==event.keyCode||46==event.keyCode||37==event.keyCode||39==event.keyCode||!(event.keyCode<48||event.keyCode>57)},o.isMobileDevice=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},e(function(){1==e("#me-sidebar-wrapper").length&&o.initSideBar(),setTimeout(function(){e(".hideThisOnSmallScreen").not("HOSMTreated").each(function(){var t=e(this).parents(".HOSMLine").first(),o=t.children(".HOSMTooltipContent");0==o.length&&(o=e("<div>",{class:"HOSMTooltipContent",id:"HOSMTTContent"+n.toString()}).appendTo(t),e("<div>",{class:"HOSMOpener",html:"<i class='fas fa-ellipsis-v'></i>","data-tooltip-content":"#HOSMTTContent"+n.toString()}).appendTo(t).tooltipster({delay:50,trigger:"click",interactive:!0,triggerClose:{mouseleave:!0}}),n++);var i=e(this).clone(!1).removeClass("hideThisOnSmallScreen");o.append(i),e(this).addClass("HOSMTreated")}),e(".mecTimezoneToAdjust").each(function(){o.displayDateToLocal(e(this))})},20)}),o}(jQuery),window.MEC_Socle.PswPopin=function(e,t){var o={updatePswCircles:function(){var t=e("#studentPsw").attr("data-finalval").length,o=e("#studentPsw .round").length;if(e("#studentPsw .round").removeClass("filled").removeAttr("style"),e("#studentPsw .round:lt("+t+")").addClass("filled"),o<t&&(e("#studentPsw").append("<div class='round filled'></div>"),o++),o>3){var n=Math.floor((e("#studentPsw").width()-5*o)/o);n>50&&(n=50),e("#studentPsw .round").width(n).height(n)}},erasePsw:function(){e("#studentPsw").attr("data-finalval","").find(".round").not(".initial").remove(),o.updatePswCircles()},numberPadClickPsw:function(t){e("#studentPsw").attr("data-finalval").length<10&&e("#studentPsw").attr("data-finalval",e("#studentPsw").attr("data-finalval")+t.toString()),o.updatePswCircles()},init:function(){e(window).on("keydown",function(t){if(e("#studentPsw").is(":visible"))if(13==t.which)e("#divValidStudPsw").trigger("click");else if(8==t.which||46==t.which)o.erasePsw();else{var n=parseInt(t.key);!isNaN(n)&&n>=0&&n<10&&o.numberPadClickPsw(n)}})}};return o}(jQuery),window.MEC_Socle.PswStrongChecked=function(e){const t=jQuery("#"+e),o=t[0],n=t.parent().find(".input__label")[0],i=n.querySelector(".pswIndicator"),a=i.querySelector(".weak"),s=i.querySelector(".medium"),l=i.querySelector(".strong"),r=t.parent().find(".pswIndicatorText")[0];var c=/[a-z]/,d=/[A-Z]/,u=/\d+/,p=/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/;t.focus(function(){n.classList.add("withPswStrongCheck"),i.style.display="flex"}),t.blur(function(){n.classList.remove("withPswStrongCheck"),i.style.display="none"}),t.keyup(function(){if(""!=o.value){var e=0;o.value.match(c)&&e++,o.value.match(d)&&e++,o.value.match(u)&&e++,o.value.match(p)&&e++,o.value.length<=3&&e>=1&&(no=1),o.value.length>=6&&e>=2&&(no=2),o.value.length>=9&&e>=4&&(no=3),1==no&&(a.classList.add("active"),r.textContent="Mot de passe faible",r.classList.add("weak")),2==no?(s.classList.add("active"),r.textContent="Mot de passe moyen",r.classList.add("medium")):(s.classList.remove("active"),r.classList.remove("medium")),3==no?(a.classList.add("active"),s.classList.add("active"),l.classList.add("active"),r.textContent="Mot de passe fort",r.classList.add("strong")):(l.classList.remove("active"),r.classList.remove("strong"))}else r.textContent="Mot de passe"})},window.MEC_Socle.CookieAcceptBarre=function(e,t){var o={},n=getCookie("MEConsentDetails");return o.setStatus=function(t){var o=new Date;if(o.setTime(o.getTime()+314496e5),setCookie("MEConsentDetails",t,o),e("#cookieAcceptPanel").hide(),-1!==document.location.href.indexOf("/activation-compte-carte")||-1!==document.location.href.indexOf("/inscription"))if("undefined"!=typeof URLSearchParams){const e=new URLSearchParams(window.location.search);e.set("r","1"),window.location.search=e}else window.location.reload()},o.acceptAll=function(){o.setStatus("_stats=1_crisp=1_youtube=1_recaptcha=1_sociallinks=1")},o.refuseAll=function(){o.setStatus("_stats=0_crisp=0_youtube=0_recaptcha=0_sociallinks=0")},o.init=function(t){e(function(){if(""==n){var i=e("<div>",{id:"cookieAcceptPanel",class:"ca-window"});e("<div>",{class:"ca-cookie ca-ctop"}).appendTo(i);e("<div>",{class:"ca-title",html:"Cookies"}).appendTo(i);var a=e("<div>",{class:"ca-message",html:t+" utilise des cookies pour permettre une bonne utilisation de ses outils (notamment pour améliorer la qualité du service et analyser ses audiences). "}).appendTo(i);e("<a>",{class:"ca-link",href:"javascript:;",html:"personnaliser les cookies",onclick:"jQuery('.ca-window').hide();MEC_Socle.PopinHelper.openIframePopin('/gestion-des-cookies/', false, false, null);"}).appendTo(a);var s=e("<div>",{class:"ca-buttons"}).appendTo(i);e("<a>",{class:"ca-btn ca-accept",html:"J'accepte",role:"button"}).appendTo(s).on("click",o.acceptAll),e("<a>",{class:"ca-btn ca-refuse",html:"Je refuse",role:"button"}).appendTo(s).on("click",o.refuseAll),e("<div>",{class:"ca-cookie ca-cbottom"}).appendTo(i),e("body").append(i),i.animate({opacity:1},1e3)}})},o}(jQuery),window.MEC_Socle.SchoolChoicePopin=function(e,t){var o={},n=null,i=null,a="<span class='solutions'>Veuillez vérifier que le pays sélectionné correspond bien à celui de votre école et si besoin, <a href='javascript:;' onclick='MEC_Socle.SchoolChoicePopin.ecoleNotExists(this, false);'>cliquez ici pour nous soumettre un nouvel établissement</a></span>.",s="<span class='solutions'>Veuillez vérifier que le code postal saisi correspond bien à celui de votre école (vous pouvez effectuer une recherche sur <a href='https://www.education.gouv.fr/annuaire' target='_blank'>l'annuaire de l'Éducation Nationale</a>) et si besoin, <a href='javascript:;' onclick='MEC_Socle.SchoolChoicePopin.ecoleNotExists(this, true);'>cliquez ici pour nous soumettre un nouvel établissement</a></span>.";function l(t,o,n){e("#cpSearchZone").hide(),e("#EcoleAlreadyChoiced").hide(),e("#EcoleCreationForm").hide(),e("#EcoleChoiceList").show().attr("data-fromcpsearch",t),n?(e("#cpSearched").html(n),e("#rememberCPZone a").html(t?"Chercher avec un autre code postal":"Chercher dans un autre pays"),e("#rememberCPZone").show()):e("#rememberCPZone").hide();var i=e("#cboEtablissementList");e("option",i).not(".defaultVal").remove(),e("#recapEcoleSelected > div").empty(),e("#recapEcoleSelected").hide(),e("#schoolNotExistsLink").show(),o.forEach(function(t,o){e("<option>",{value:t.id,dataindex:o,html:t.commune+" - "+t.nom}).appendTo(i)}),e("#schoolNotExistsLink").html("Mon établissement ne fait pas partie de cette liste."),e.fancybox.update()}return o.searchSchools=function(t){if(!t.disabled){e("#lblCPError").html("");var o=e("#txtCodepostalSearch").val();o.length>=4?(t.disabled=!0,e(t).html("<i class='fas fa-spin fa-spinner'></i>Recherche en cours"),MEC_Socle.AjaxHelper.GenAjaxCaller("mecGetSchools",{cp:o},function(i){t.disabled=!1,e(t).html("Rechercher"),null!=(n=i.schools)&&n.length>0?l(!0,n,o):e("#lblCPError").html("<span class='noSchool'>Aucun établissement trouvé.</span><br/>"+s)})):e("#lblCPError").html("Code postal incorrect")}},o.searchSchoolsByCountry=function(t){if(!t.disabled){e("#lblCountryError").html("");var o=e("#cboSchoolPays").val();o&&(t.disabled=!0,e("#lblCountryError").html("<i class='fas fa-spin fa-spinner'></i>Recherche en cours"),MEC_Socle.AjaxHelper.GenAjaxCaller("mecGetSchools",{country:o},function(o){t.disabled=!1,null!=(n=o.schools)&&n.length>0?(e("#lblCountryError").html(""),l(!1,n,e("#cboSchoolPays option:selected").html())):e("#lblCountryError").html("<span class='noSchool'>Aucun établissement trouvé.</span><br/>"+a)}))}},o.returnToResearch=function(){n=null,i=null,e("#cpSearchZone").show(),e("#cboSchoolPays option[value='']").prop("selected",!0),e("#txtCodepostalSearch").val(""),e("#EcoleAlreadyChoiced").hide(),e("#EcoleChoiceList").hide(),e("#EcoleCreationForm").hide(),e("#lblCountryError").add("#lblCPError").html(""),e.fancybox.update()},o.ecoleNotExistsMessageFirst=function(t){e(t).html("true"==e("#EcoleChoiceList").attr("data-fromcpsearch")?s:a),e.fancybox.update()},o.ecoleNotExists=function(t,o){n=null,i=null,e("#cpSearchZone").hide(),e("#EcoleAlreadyChoiced").hide(),e("#EcoleChoiceList").hide(),e("#EcoleCreationForm").show(),o?(e("#txtCodepostal").val(e("#txtCodepostalSearch").val()).parents(".oneFieldLine").show(),e("#txtCountry").val("France")):(e("#txtCodepostal").val("00000").parents(".oneFieldLine").hide(),e("#txtCountry").val(e("#cboSchoolPays option:selected").html())),checkContentInput(),e("#txtNom").focus().select(),e.fancybox.update()},o.changeEnseignantSchool=function(t){null===i||t.disabled||(t.disabled=!0,MEC_Socle.PopinHelper.openLoaderPopin("Enregistrement en cours..."),MEC_Socle.AjaxHelper.GenAjaxCaller("mecSetEnseignantSchool",{schoolid:i.id},function(){i.adminID>0?MEC_Socle.SchoolAdministratorPopin.initDelegationAutorisation(null,i.adminName):(e.fancybox.close(),1==e("#ecoleInputOpenPopin").length&&document.location.reload())},t))},o.sendNewEcole=function(t){if(!t.disabled){if(""==e("#txtNom").val())return void e("#lblNomError").html("Champ obligatoire");if(""==e("#txtAdresse").val())return void e("#lblAdresseError").html("Champ obligatoire");if(""==e("#txtCodepostal").val())return void e("#lblCPPropError").html("Champ obligatoire");if(""==e("#txtVille").val())return void e("#lblVilleError").html("Champ obligatoire");if(""==e("#txtCountry").val())return void e("#lblPaysError").html("Champ obligatoire");t.disabled=!0,MEC_Socle.PopinHelper.openLoaderPopin("Enregistrement en cours..."),MEC_Socle.AjaxHelper.GenAjaxCaller("mecProposeNewSchool",{name:e("#txtNom").val(),address:e("#txtAdresse").val(),cp:e("#txtCodepostal").val(),city:e("#txtVille").val(),country:e("#txtCountry").val()},function(){e.fancybox.close(),1==e("#ecoleInputOpenPopin").length&&document.location.reload()},t)}},o.removeSchoolChoice=function(t,o){1!=e("#pageParamSchoolIsTheAdmin").length||o?(MEC_Socle.PopinHelper.openLoaderPopin("Suppression en cours..."),MEC_Socle.AjaxHelper.GenAjaxCaller("mecDissociateEnseignantFromSchool",{schoolid:t},function(){e.fancybox.close(),document.location.reload()})):MEC_Socle.PopinHelper.openSimpleInformationPopin("En supprimant votre établissement d'affectation, vous renoncer à votre statut d'administrateur de cette établissement. Etes-vous sûr de vouloir continuer ?",!0,function(o){o?window.MEC_Socle.SchoolChoicePopin.removeSchoolChoice(t,!0):e.fancybox.close()})},o.init=function(){e("#txtCodepostalSearch").keypress(function(t){13==t.keyCode&&o.searchSchools(e(".searchSchoolsBtn")[0])}),e("#cboEtablissementList").change(function(){var t=e("#cboEtablissementList option:selected");""!=t.val()&&n?(i=n[t.attr("dataindex")],function(){e("#schoolNotExistsLink").hide();var t=e("#recapEcoleSelected > div"),o="00000"!=i.cp?i.cp:"";t.html("<div>"+i.nom+"</div><div>"+i.adresse+"</div>"+(i.lieuDit?"<div>"+i.lieuDit+"</div>":"")+"<div>"+o+" "+i.commune+"</div>"),e("#recapEcoleSelected").show(),e.fancybox.update()}()):(i=null,e("#schoolNotExistsLink").show(),e("#recapEcoleSelected").hide())}),e("#cboSchoolPays").change(function(){o.searchSchoolsByCountry(this)}),1==e("#pageParamSchoolID").length&&(e("#cpSearchZone").hide(),e("#EcoleCreationForm").hide(),e("#EcoleChoiceList").hide(),e("#EcoleAlreadyChoiced").show()),setTimeout(function(){e.fancybox.isOpen||MEC_Socle.PopinHelper.openHrefPopin("#popinASkEnseignantEcole",!0,!1,null)})},o}(jQuery),window.MEC_Socle.SchoolAdministratorPopin=function(e,t){var o={becomeAdmin:function(){MEC_Socle.PopinHelper.openLoaderPopin("Enresgitrement en cours"),MEC_Socle.AjaxHelper.GenAjaxCaller("mecBecomeSchoolAdministrer",{schoolid:e("#pageParamSchoolID").val()},function(){e.fancybox.close(),document.location.reload()})},statusDelegation:function(t){MEC_Socle.PopinHelper.openLoaderPopin("Enresgitrement en cours"),MEC_Socle.AjaxHelper.GenAjaxCaller("mecSchoolDelegationAutorisation",{accept:t},function(){e.fancybox.close(),document.location.reload()})},statusSchoolInvitation:function(t,o){MEC_Socle.PopinHelper.openLoaderPopin("Modification en cours"),MEC_Socle.AjaxHelper.GenAjaxCaller("mecAcceptOrRefuseSchoolInvitation",{schoolid:t,status:o},function(){e.fancybox.close(),document.location.reload()})},initDelegationAutorisation:function(t,o){var n=e("<div>",{id:"SchoolAcceptDelegationPopin"});e("<h1>",{html:"Délégation d'administration"}).appendTo(n),e("<div>",{class:"explications",html:"Votre établissement est actuellement administré par "+(o||e("#ecoleAdmin").val())+".<br/>En tant que membre de cet établissement, vous pouvez accepter ou refuser de déléguer certaines tâches de gestion de votre compte à cet utilisateur.<br/><br/>Actuellement le compte administrateur permet : <br/><ul><li>d'associer / dissocier des comptes enseignant à l'établissement</li><li>de gérer les abonnements des comptes enseignant</li></ul>"}).appendTo(n);var i=e("<div>",{class:"actionZone"}).appendTo(n);e("<a>",{class:"meButton meButtonRed rlButton rlButtonRed muButton muButtonRed cnButton cnButtonRed",href:"javascript:;",onclick:"MEC_Socle.SchoolAdministratorPopin.statusDelegation(false);",html:"Refuser"}).appendTo(i),e("<a>",{class:"meButton meButtonGreen rlButton rlButtonGreen muButton muButtonGreen cnButton cnButtonGreen",href:"javascript:;",onclick:"MEC_Socle.SchoolAdministratorPopin.statusDelegation(true);",html:"Accepter"}).appendTo(i),MEC_Socle.PopinHelper.openGenericHtmlPopin(n,!0,!1)},initBecomeAdmin:function(){var t=e("<div>",{id:"SchoolAdministrerPopin"});e("<h1>",{html:"Devenir administrateur"}).appendTo(t),e("<div>",{class:"explications",html:"Votre établissement n'a actuellement pas de compte administrateur attitré.<br/>Si vous souhaitez devenir cet administrateur, vos collègues seront invités à accepter ou à refuser cette délégation de droit sur leur compte.<br/><br/><div class='compteAdminList'>Le compte administrateur permet actuellement : <br/><ul><li>d'associer / dissocier des comptes enseignant à l'établissement</li><li>de gérer les abonnements des comptes enseignant</li></ul></div><br/>En devenant administrateur d'établissement, vous acceptez que les autres utilisateurs voient apparaitre votre nom (champ \"Nom complet\" de votre compte) de façon partiellement masqué comme ceci : "+e("#pageParamSchoolUserPartialName").val()}).appendTo(t);var o=e("<div>",{class:"actionZone"}).appendTo(t);e("<a>",{class:"smallCancelButton",href:"javascript:;",onclick:"jQuery.fancybox.close();",html:"annuler"}).appendTo(o),e("<a>",{class:"meButton rlButton muButton cnButton",href:"javascript:;",onclick:"MEC_Socle.SchoolAdministratorPopin.becomeAdmin();",html:"Devenir l'administrateur"}).appendTo(o),MEC_Socle.PopinHelper.openGenericHtmlPopin(t,!0,!1)}};return o}(jQuery),window.MEC_Socle.PopinHelper=function(e,t){var o={},n=void 0;function i(t,o,n,i,a){var s=e.extend({closeBtn:t,helpers:{overlay:{closeClick:o,locked:n}},afterClose:i,transitionIn:"elastic",transitionOut:"elastic",titleShow:!1},a);e.fancybox(s)}return o.openLoaderPopin=function(e){var t='<div style="display: table-cell; vertical-align: middle; text-align:center; height: 100px;">  <div>      <i class="fa fa-cog fa-spin fa-3x fa-fw" style="margin: auto; font-size: -webkit-xxx-large;"></i><br/>      <span style="margin-top:10px;display:block;">'+e+"</span> </div></div>";o.openGenericHtmlPopin(t,!1,!1)},o.openResultPopin=function(e,t,n){void 0===n&&(n=!0);var i='<div style="display: table-cell; vertical-align: middle; height: 100px; text-align: center">  <div>      <i class="fa '+t+' fa-3x" style="margin-left: 0px; font-size: -webkit-xxx-large;"></i><br/>      <span style="margin-top:10px;display:block;">'+e+"</span> </div></div>";o.openGenericHtmlPopin(i,n,n)},o.openSimpleInformationPopin=function(e,t,o){n=o;var a='<div class="simpleInformationPopin">  <div>      <span style="display:block;">'+e+"      </span>  </div>";i(!0,!1,!1,null,{type:"html",afterShow:function(){jQuery(".meautofocus").focus()},content:a+=t?'  <div class="popinActionZone">      <input type="button" class="rlButton meButton cnButton muButton" value="Non" onclick="MEC_Socle.PopinHelper.sipCallback(false);">      <input type="button" class="rlButton rlButtonGreen meButton meButtonGreen cnButton cnButtonGreen muButton muButtonGreen meautofocus" value="Oui" onclick="MEC_Socle.PopinHelper.sipCallback(true);" >  </div></div>':'  <div class="popinActionZone">      <input type="button" class="rlButton meButton cnButton muButton meautofocus" value="OK" onclick="jQuery.fancybox.close();MEC_Socle.PopinHelper.sipCallback(false);">  </div></div>'})},o.sipCallback=function(e){n&&n(e)},o.openStudentLostPswPopin=function(){o.openGenericHtmlPopin('<div style="display: table-cell; vertical-align: middle; text-align:center; height: 100px;">  <div>      <i class="far fa-info-circle" style="margin: auto; font-size: -webkit-xxx-large;"></i><br/>      <span style="margin-top:10px;display:block;">L\'identifiant et le mot de passe est choisi par ton professeur. Si tu ne les connais pas, demande-lui.</span> </div> <div style="margin: 20px; font-size: 0.9em; font-style: italic;">     Mémo pour les professeurs : ces informations peuvent être consultées / modifiées depuis votre compte enseignant, page "Mes élèves". </div></div>',!0,!1)},o.openGenericHtmlPopin=function(e,t,o,n,a){void 0===a&&(a=!1),i(t,o,a,n,{type:"html",content:e})},o.openContentPopinWithoutBorder=function(e,t,o,n){i(t,o,!1,n,{type:"html",wrapCSS:"withoutShadow",content:e,padding:0})},o.openIframePopin=function(e,t,o,n){i(t,o,!1,n,{type:"iframe",href:e})},o.openIframeSizedWidthPopin=function(e,t,o,n,a,s){var l="auto";-1!=s&&(l=jQuery(window).width()*s),i(o,n,!1,a,{type:"iframe",width:l,height:"auto",autoSize:!1,scrolling:t,href:e})},o.openIframePopinWithoutBorder=function(e,t,o,n){i(t,o,!1,n,{type:"iframe",href:e,padding:0})},o.openHrefPopin=function(e,t,o,n){i(t,o,!1,n,{href:e})},o.openHrefPopinWithoutBorder=function(e,t,o,n,a){i(t,o,!1,n,{afterShow:a,href:e,padding:0})},o.openYoutubeInPopin=function(e){var t=.85*jQuery(window).width(),o=.85*jQuery(window).height();i(!0,!0,!1,null,{type:"html",content:MEC_Socle.CommonFunctions.generateYoutubeIframe(t,o,e)})},o.openImageOnly=function(e,t){i(!1,!0,!1,t,{type:"image",href:e,padding:0,opacity:!0,beforeShow:function(){jQuery(".fancybox-skin").css("background","transparent").css("box-shadow","none")}})},o.openCSVGeneratedPopin=function(e){var t='<div style="display: table-cell; vertical-align: middle; height: 100px; width: 500px; text-align: center;">  <div>      <i class="fa fa-check-circle fa-3x" style="margin-left: 0px; font-size: -webkit-xxx-large;"></i><br/>      <span style="margin-top:10px;display:block;">          Fichier CSV généré.<br/>          <a href="'+e+'" download>              <i class="fas fa-file-csv" style="font-size:40px;"></i> cliquez ici pour le télécharger          </a>.      </span>  </div></div>';o.openGenericHtmlPopin(t,!0,!0)},o}(jQuery);